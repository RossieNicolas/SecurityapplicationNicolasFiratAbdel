(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){e.exports=a(401)},172:function(e,t,a){},173:function(e,t,a){},206:function(e,t){},208:function(e,t){},240:function(e,t){},241:function(e,t){},310:function(e,t){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(163),o=a.n(l),r=(a(171),a(172),a(10)),i=a(11),s=a(15),u=a(14),m=a(16),h=(a(173),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"bg-light"},c.a.createElement("p",null,"Welcome to the ",this.props.name),c.a.createElement("p",null,"Contact the admin ",c.a.createElement("a",{href:"/contact",className:"btn btn-outline-primary"},"Click here")),!this.props.auth.isAuthenticated()&&c.a.createElement("div",null,c.a.createElement("hr",null),"Please login first",c.a.createElement("hr",null),c.a.createElement("button",{className:"btn btn-outline-secondary",onClick:this.props.auth.login},"Login")))}}]),t}(n.Component)),b=a(23),d=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={Message:""},a.handleChange=a.handleChange.bind(Object(b.a)(Object(b.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(Object(b.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){alert("Message submitted to the admin: "+this.state.value),e.preventDefault(),localStorage.setItem("message",this.state.value)}},{key:"render",value:function(){return c.a.createElement("div",{className:"bg-light"},c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Message:",c.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,className:"form-control"}))),c.a.createElement("br",null),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"submit",className:"btn btn-outline-secondary",value:"Submit"}))))}}]),t}(n.Component),p=a(65),g=a.n(p),f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).sendNameToAPI=function(){var e=localStorage.getItem("access_token").toString();g.a.post("http://localhost:3000/api/names",{name:a.state.value,access_token:localStorage.getItem("access_token")},{headers:{"Access-Control-Allow-Origin":"*",authorization:"Bearer "+e,"Content-Type":"application/json"}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},a.state={Name:""},a.handleChange=a.handleChange.bind(Object(b.a)(Object(b.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(Object(b.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.sendNameToAPI()}},{key:"getOAuthToken",value:function(){var e=a(192),t="Bearer ";return e({method:"POST",url:"https://dev-h1jx91ic.eu.auth0.com/oauth/token",headers:{"content-type":"application/json"},body:{grant_type:"client_credentials",client_id:"DQ2KDU2LUrlToeXBfMrLAjt26VmzrGzh",client_secret:"xk8WpRum-bx18NJF_dSpn_FT-LunBoHUNa5466AKT8d-fQXgxmbHJye6zgb9D9yA",audience:"https://dev-h1jx91ic.eu.auth0.com/api/v2/",redirectUri:"https://musing-jang-1930f8.netlify.com/callback"},json:!0},function(e,a,n){if(e)throw new Error(e);console.log(n),t+=a}),t}},{key:"render",value:function(){return c.a.createElement("div",{className:"bg-light"},c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Fill in your name:",c.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,className:"form-control"}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"submit",className:"btn btn-outline-secondary",value:"Submit"}))))}}]),t}(n.Component),v=a(165),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){g.a.get("http://localhost:3000/api/names").then(function(e){for(var t=0;t<e.data.length;t++)localStorage.getItem("access_token")===e.data[t].access_token&&a.setState({name:[].concat(Object(v.a)(a.state.name),[e.data[t].name])})}).catch(function(e){console.log(e)})},a.state={name:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{onClick:this.componentDidMount,className:"btn btn-outline-secondary"},"Result"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("h4",null,this.state.name[0]))}}]),t}(n.Component),E=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"bg-light"},c.a.createElement("div",{className:"container"},c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},c.a.createElement("h2",{className:"navbar-brand mx-auto"},"Welcome to the contact page"))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("p",null,"Do you want to contact the admin?"),c.a.createElement("div",null,c.a.createElement(d,null)),c.a.createElement("hr",null),c.a.createElement("p",null,"Use the api"),c.a.createElement(f,null),c.a.createElement(j,null),c.a.createElement("hr",null),c.a.createElement("iframe",{title:"random website als frame",src:"https://theuselessweb.com",height:"300",width:"400",sandbox:"allow-same-origin allow-scripts allow-popups"},"some random website"),c.a.createElement("hr",null),c.a.createElement("p",null,"Go back to the home page ",c.a.createElement("a",{href:"/",className:"btn btn-outline-primary"},"Click here")),c.a.createElement("button",{className:"btn btn-outline-secondary",onClick:this.props.auth.logout},"Logout"),c.a.createElement("div",{className:"card-footer text-muted mt-2"},"Created by Abdel, Nicolas and Firat for AP."))}}]),t}(n.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"bg-light"},"not found!...or not authenticated yet.")}}]),t}(n.Component),k=a(164),y=function(){function e(){Object(r.a)(this,e),this.auth0=new k.a.WebAuth({domain:"dev-h1jx91ic.eu.auth0.com",clientID:"DQ2KDU2LUrlToeXBfMrLAjt26VmzrGzh",redirectUri:"https://musing-jang-1930f8.netlify.com/callback",audience:"https://dev-h1jx91ic.eu.auth0.com/userinfo",responseType:"token id_token",scope:"openid profile read:messages"}),this.login=this.login.bind(this)}return Object(i.a)(e,[{key:"login",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){this.auth0.parseHash(function(e,t){if(t&&t.accessToken&&t.idToken){var a=JSON.stringify(1e3*t.expiresIn+(new Date).getTime());localStorage.setItem("access_token",t.accessToken),localStorage.setItem("id_token",t.idToken),localStorage.setItem("expires_at",a),location.hash="",location.pathname="/contact"}else e&&(location.pathname="/",console.log(e))})}},{key:"isAuthenticated",value:function(){var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e}},{key:"logout",value:function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),localStorage.removeItem("message"),localStorage.removeItem("Name"),location.pathname="/"}}]),e}(),S=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(new y).handleAuthentication()}},{key:"render",value:function(){return c.a.createElement("div",{className:"bg-light"},"Loading...")}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).message="Something went wrong",a.message=localStorage.getItem("message"),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"bg-light"},c.a.createElement("h2",null,"You are an admin"),c.a.createElement("p",null,this.message),c.a.createElement("p",null,"Go back"),c.a.createElement("a",{className:"btn btn-outline-primary",href:"/contact"},"Click here"))}}]),t}(n.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="";switch(this.props.location){case"":e=c.a.createElement(h,this.props);break;case"contact":e=this.props.auth.isAuthenticated()?c.a.createElement(E,this.props):c.a.createElement(O,null);break;case"callback":e=c.a.createElement(S,null);break;case"admin":e=c.a.createElement(w,null);break;default:e=c.a.createElement(O,null)}return c.a.createElement("div",{className:"App"},e)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=new y,A={};window.setState=function(e){A=Object.assign({},A,e),o.a.render(c.a.createElement(N,A),document.getElementById("root"))};var I={name:"Security application",location:location.pathname.replace(/^\/?|\$/g,""),auth:C};window.setState(I),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[166,1,2]]]);
//# sourceMappingURL=main.dff0d677.chunk.js.map